<header
  class="fixed top-0 left-0 w-full z-50 px-6 py-6 flex justify-between items-center mix-blend-difference text-white transition-all duration-300"
  id="site-header"
>
  <button id="mobile-menu-toggle" class="md:hidden focus:outline-none">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="2"
      stroke="currentColor"
      class="w-8 h-8"
    >
      <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
    </svg>
  </button>

  <a href="/" class="text-3xl font-heading font-bold tracking-wider uppercase">
    Bushido
    <span class="text-red-600">.</span>
  </a>

  <nav class="hidden md:flex gap-8 text-sm font-bold tracking-widest uppercase">
    {% for link in linklists['main-menu'].links %}
      <a href="{{ link.url }}" class="hover:text-red-500 transition-colors">
        {{ link.title }}
      </a>
    {% endfor %}
  </nav>

  <div class="flex items-center gap-6">
    <a href="/search" class="hover:text-red-500 transition-colors">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="2"
        stroke="currentColor"
        class="w-6 h-6"
      >
        <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
      </svg>
    </a>
    <a href="/cart" class="relative hover:text-red-500 transition-colors">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="2"
        stroke="currentColor"
        class="w-6 h-6"
      >
        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z" />
      </svg>
      {% if cart.item_count > 0 %}
        <span class="absolute -top-2 -right-2 bg-red-600 text-white text-[10px] w-4 h-4 flex items-center justify-center rounded-full font-bold">
          {{ cart.item_count }}
        </span>
      {% endif %}
    </a>
  </div>
</header>

<div
  id="mobile-menu-drawer"
  class="fixed inset-0 z-[60] transform -translate-x-full transition-transform duration-500 bg-black text-white flex flex-col"
>
  <div class="px-6 py-6 flex justify-between items-center border-b border-gray-900">
    <span class="text-xl font-bold uppercase tracking-widest">Menu</span>
    <button id="mobile-menu-close" class="focus:outline-none">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="2"
        stroke="currentColor"
        class="w-8 h-8"
      >
        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
      </svg>
    </button>
  </div>

  <nav class="flex-1 flex flex-col p-8 gap-8 text-3xl font-black uppercase tracking-tighter">
    {% for link in linklists['main-menu'].links %}
      <a href="{{ link.url }}" class="hover:text-red-600 transition-colors">
        {{ link.title }}
      </a>
    {% endfor %}
    <a href="/account" class="text-xl text-gray-500 mt-auto">Account</a>
  </nav>
</div>

<script>
  // Simple Vanilla JS Toggle Logic
  document.addEventListener('DOMContentLoaded', () => {
    const toggleButton = document.getElementById('mobile-menu-toggle');
    const closeButton = document.getElementById('mobile-menu-close');
    const drawer = document.getElementById('mobile-menu-drawer');

    function toggleMenu() {
      // Toggle the transform class to slide in/out
      drawer.classList.toggle('-translate-x-full');
    }

    if (toggleButton) toggleButton.addEventListener('click', toggleMenu);
    if (closeButton) closeButton.addEventListener('click', toggleMenu);
  });

  document.getElementById('header-cart-btn').addEventListener('click', (e) => {
    e.preventDefault();
    cartDrawer.open();
  });
</script>

{% schema %}
{ "name": "Header", "settings": [], "presets": [] }
{% endschema %}
